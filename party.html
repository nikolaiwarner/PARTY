<head>
  <title>PARTY</title>
  <link rel="icon" type="image/gif" href="favicon.gif">
</head>

<body>
  <div class="container">
    <div class="row">
      <div class="navbar">
        <div class="span6 offset3">
          <a class="brand" href="#" data-placement="right" title="PARTY: Productively And Responsibly Treating Yourself!">PARTY</a>
          <ul class="nav pull-right">
            <li>{{loginButtons}}</li>
          </ul>
        </div>
      </div>
    </div>

    {{#if currentUser}}
      <div class="row">
        <div class="span6 offset3">
          <div class="row-fluid">
            <div class="span6">
              {{> your_gold_stars}}
            </div>
            <div class="span6">
              {{> your_points}}
            </div>
          </div>
          <div class="row-fluid">
            <div class="span12">
              {{> your_activities_list}}
            </div>
          </div>
        </div>
      </div>
      {{> new_activity}}
      {{> modals}}
    {{/if}}

    <div class="row footer">
      <div class="span6 offset3">
        <a href="http://nwarner.com">PARTY by nikolaiwarner</a>
        <div class="pull-right">
          <a href="https://github.com/nikolaiwarner/party">about</a>
        </div>
      </div>
    </div>
  </div>
</body>



<template name="new_activity">
  <div id="new_activity_modal" class="modal hide fade new_activity">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
      <h3>Add An Activity</h3>
    </div>
    <div class="modal-body">
      <form class="form">
        <div class="control-group">
          <label class="control-label">What are you going to do?</label>
          <div class="controls">
            <input type="text" class="name" placeholder="Run 10 miles." />
          </div>
        </div>
        <div class="control-group">
          <label class="control-label">How many points is it worth? 1-10</label>
          <div class="controls">
            <input type="number" class="points" min="1" max="10" value="1" />
          </div>
        </div>
        <div class="control-group">
          <label class="control-label">Optional URL for this activity:</label>
          <div class="controls">
            <input type="text" class="url" placeholder="http://..." />
          </div>
        </div>
      </form>
    </div>
    <div class="modal-footer">
      <a href="#" class="btn btn-primary save">Save</a>
    </div>
  </div>
</template>



<template name="your_activities_list">
  <div class="your_activities_list">
    <h2>
      Do something good.
    </h2>
    <div class="clearfix">
    <table class="table">
      {{#each activities}}
        {{> activity_list_row}}
      {{/each}}
    </table>
    <br>
    <a href="#new_activity_modal" role="button" data-toggle="modal">+ Add An Activity For Yourself</a>
  </div>
</template>


<template name="activity_list_row">
  <tr class="{{completed_today_class}}">
    <td>
      <a class="btn did_activity">
        &rarr;
      </a>
    </td>
    <td>
      <strong>
        {{#if url}}
          <a href="{{url}}" target="_blank">{{name}}</a>
        {{else}}
          {{name}}
        {{/if}}
      </strong>
      for {{points_string}}
    </td>
    <td class="last_event">
      {{last_event}}
    </td>
    <td class="event_count">
      {{event_count}}
    </td>

    <td>
      <span class="remove_activity">x</span>
    </td>
  </tr>
</template>


<template name="your_gold_stars">
  <div class="your_gold_stars">
    <div>
      Your Gold Stars
    </div>
    <h1>{{count}}</h1>
    {{#if has_gold_stars}}
    <div>
      <a class="btn btn-success spend_a_gold_star">Spend &#10029;</a>
    </div>
    {{/if}}
  </div>
</template>

<template name="your_points">
  <div class="your_points">
    <div>
      Your Points
    </div>
    <h1>{{count}}</h1>
    <div>
      Earn {{points_till_next_gold_star}}
      <br>
      and get a gold star!
    </div>
  </div>
</template>



<template name="modals">
  <div id="you_got_a_gold_star_modal" class="modal hide fade">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
      <h3>Congratulations!</h3>
    </div>
    <div class="modal-body">
      <div class="gold_star">&#10026;</div>
      <h3>You've earned a gold star!!!</h3>
      <p>
        When you're ready, trade this gold star in and treat yourself! You rock!
      </p>
    </div>
    <div class="modal-footer">
      <a class="btn" data-dismiss="modal" aria-hidden="true">Close</a>
    </div>
  </div>

  <div id="you_spent_a_gold_star_modal" class="modal hide fade">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
      <h3>You spent a gold star!</h3>
    </div>
    <div class="modal-body">
      <div class="check">&#10003;</div>
      <h3>Now, go treat yourself!</h3>
      <p>
        Then come back and earn some more points!
      </p>
    </div>
    <div class="modal-footer">
      <a class="btn" data-dismiss="modal" aria-hidden="true">Close</a>
    </div>
  </div>
</template>
